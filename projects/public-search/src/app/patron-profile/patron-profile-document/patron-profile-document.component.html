<!--
  RERO ILS UI
  Copyright (C) 2021 RERO

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, version 3 of the License.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<a href="/{{ viewcode }}/documents/{{ record.metadata.document.pid }}" class="d-block">
  {{ record.metadata.document.title | mainTitle }}
</a>
<ng-container *ngIf="document && document.contribution && document.contribution.length > 0">
  <ul class="list-inline mb-0 small">
    <li *ngFor="let contribution of document.contribution; let last = last; let i = index" class="list-inline-item">
      <span *ngIf="!contribution.agent.pid" [innerHTML]="contribution | contributionFormat: true"></span>
      <a *ngIf="contribution.agent.pid"
         [innerHTML]="contribution | contributionFormat"
         [routerLink]="['/records', 'persons', 'detail', contribution.agent.pid]">
      </a>
      <ng-container *ngIf="!last">; </ng-container>
    </li>
  </ul>
</ng-container>
<div class="container mt-2 pl-0" *ngIf="record.metadata" [collapse]="!showAdditionalInformation" [isAnimated]="isAnimated">
  <dl class="row">
    <!-- CALL NUMBER -->
    <ng-container *ngIf="callNumbers as formattedCallNumbers">
      <dt class="col-sm-6 col-md-4 col-lg-3 label-title" translate>Call number</dt>
      <dd class="col-sm-6 col-md-8 col-lg-9">{{ formattedCallNumbers }}</dd>
    </ng-container>
    <!-- ENUMERATION AND CHRONOLOGY -->
    <ng-container *ngIf="record.metadata.item.enumerationAndChronology">
      <dt class="col-sm-6 col-md-4 col-lg-3 label-title" translate>Unit</dt>
      <dd class="col-sm-6 col-md-8 col-lg-9">{{ record.metadata.item.enumerationAndChronology }}</dd>
    </ng-container>
  </dl>
  <ng-content select="[additional-metadata]"></ng-content>
</div>
