<!--
  RERO ILS UI
  Copyright (C) 2021-2022 RERO
  Copyright (C) 2021-2022 UCLouvain

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, version 3 of the License.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<div *ngIf="record"
     [attr.id]="record.metadata.pid | idAttribute : {'prefix': 'patron', 'suffix': 'brief-view'}"
     class="patron-brief brief-view">
  <h5 class="card-title">
    <a [routerLink]="[detailUrl.link]">
      {{ record.metadata.last_name }}<ng-container *ngIf="record.metadata.first_name">, {{ record.metadata.first_name }}</ng-container>
    </a>
    <small class="badge ml-2" [class]="getRoleBadgeColor(role)" *ngFor="let role of record.metadata.roles">
      {{ role | translate }}
    </small>
    <div *ngIf="circulationAccess && record.metadata.patron" class="float-right mb-2 mr-n5">
      <a [routerLink]="['/circulation', 'patron', record.metadata.patron.barcode[0]]" class="btn-link btn btn-sm btn-outline-primary">
        <i class="fa fa-exchange mr-2"></i>
        {{ 'Circulation' | translate }}
      </a>
    </div>
  </h5>
  <div class="card-text">
    <p>{{ record.metadata.birth_date | dateTranslate:'mediumDate' }} &mdash; {{ record.metadata.city }}</p>
  </div>
</div>
