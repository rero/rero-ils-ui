<!--
  RERO ILS UI
  Copyright (C) 2020-2024 RERO

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, version 3 of the License.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<div class="grid grid-cols-12 gap-4">
  <div class="md:col-span-9 col-span-8">
    <ng-core-editor [model]="model" (modelChange)="modelChanged($event)" (canDeactivateChange)="canDeactivateChanged($event)"></ng-core-editor>
  </div>
  <div class="col-span-12">
    <p-fieldset [legend]="'Predictions' | translate">
      @if (!serialPreviewError) {
        @if (serialPreviewExamples && serialPreviewExamples.length > 0) {
          <ul class="list-none p-0 m-0">
            @for (issue of serialPreviewExamples | slice:0:10; track issue) {
              <li>{{ issue.issue }}</li>
            }
          </ul>
          â€¦
          <ul class="list-none p-0 m-0">
            @for (issue of serialPreviewExamples | slice:97:100; track issue) {
              <li>{{ issue.issue }}</li>
            }
          </ul>
        } @else {
          <p-message
            [text]="'No preview available' | translate"
            severity="info"
            showTransitionOptions="0ms"
          />
        }
      } @else {
        <p-message
          [text]="('Template' | translate) + '&nbsp;' + serialPreviewError.status"
          severity="error"
          showTransitionOptions="0ms"
        />
      }
    </p-fieldset>
  </div>
</div>
