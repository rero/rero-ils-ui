<!--
  RERO ILS UI
  Copyright (C) 2021-2024 RERO
  Copyright (C) 2021-2023 UCLouvain

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, version 3 of the License.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
@defer(when records.length > 0) {
  <p-table [value]="records" styleClass="p-datatable-striped"  [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="body" let-record>
      <tr>
          <td class="text-color-secondary">
            <i class="fa fa-calendar "></i>&nbsp;{{ record.metadata.date | dateTranslate :'shortDate' }} - {{ record.metadata.date | dateTranslate :'mediumTime' }}
          </td>
          <td class="font-bold uppercase">
            {{ record.metadata.operation | translate }}
          </td>
          <td>
            {{ record.metadata.user_name }}
            @if (record.metadata.library) {
              - {{ record.metadata.library.name }}
            }
          </td>
      </tr>
    </ng-template>
  </p-table>
  @if (isLinkShowMore) {
    <p-button severity="secondary" [text]="true" (onClick)="showMore()">
      <div>
        <i class="fa fa-plus-square-o"></i>&nbsp;{{
          "Show more" | translate
        }}&nbsp;<small>({{ hiddenOperationLogs }})</small>
      </div>
    </p-button>
  }

} @placeholder {
  <i class="fa fa-spinner fa-pulse"></i>
}
