<!--
  RERO ILS UI
  Copyright (C) 2019-2024 RERO
  Copyright (C) 2019-2022 UCLouvain

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, version 3 of the License.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
@if (data.total > 0) {
  <p-fieldset>
    <ng-template pTemplate="header">
      <div class="flex align-items-center">
        <span>Amount received</span>
        <p-button severity="secondary" text size="small" [icon]="mode === 'pie'? 'fa fa-list': 'fa fa-pie-chart'" (onClick)="updateMode($event)" />
      </div>
    </ng-template>
    @switch (mode) {
      @case ('table') {
        <admin-payments-data-table [data]="data" />
      }
      @case ('pie') {
        <admin-payments-data-pie [data]="data" />
      }
    }
  </p-fieldset>
}

