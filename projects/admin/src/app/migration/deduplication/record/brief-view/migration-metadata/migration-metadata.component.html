<!--
  RERO ILS UI
  Copyright (C) 2024 RERO

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, version 3 of the License.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<p-table
  styleClass="p-datatable-sm p-datatable-striped"
  [value]="data()"
  [tableStyle]="{ 'min-width': '50rem', width: '100%', 'font-size': '0.8em' }"
>
  <ng-template pTemplate="header">
    <tr>
      <th style="width: 10%" translate>Field</th>
      <th style="width: 40%" translate>Record to Import</th>
      <th style="width: 40%" translate>Candidate</th>
      <th class="text-right" style="width: 10%" translate>Score | Weight</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-d>
    <tr>
      <td>
        <strong>{{ d.label | translate }}</strong>
      </td>
      @if(d.link) {
       <td>
        <a [routerLink]="d.link.router" [queryParams]="d.link?.params" target="_blank">
          {{d.field}}&nbsp;<i class="fa fa-external-link"></i>
        </a></td>
      } @else {
        <td [innerHTML]="d.field"></td>
      }
      @if(d?.c_link?.router) {
       <td>
        <a [routerLink]="d.c_link.router" [queryParams]="d.c_link?.params" target="_blank">
          {{d.c_field}}&nbsp;<i class="fa fa-external-link"></i>
        </a></td>
      } @else {
        <td [innerHTML]="d.c_field"></td>
      }
      <td class="text-right" [innerHTML]="d.score"></td>
    </tr>
  </ng-template>
</p-table>
