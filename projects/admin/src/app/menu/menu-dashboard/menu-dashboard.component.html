<!--
  RERO ILS UI
  Copyright (C) 2024 RERO

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, version 3 of the License.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<div class="flex flex-wrap justify-content-center mt-2">
  @for (item of items; track item) {
    <div class="col mx-1">
      <p-card>
        <ng-template pTemplate="header">
          <div class="md:flex grid grid-nogutter bg-blue-900 text-white p-3 text-xl font-bold border-round-top">
            @if (item.icon) {
              <i class="mr-2" [class]="item.icon"></i>
            }
            {{ item.label }}
          </div>
        </ng-template>
        @for (menuItem of item.items; track menuItem) {
          <p-tieredMenu [model]="[menuItem]" styleClass="w-full">
            <ng-template pTemplate="item" let-item>
              <a
                pRipple
                class="flex align-items-center p-element p-menuitem-link"
                [attr.id]="item.id"
                [routerLink]="item.routerLink"
                [href]="item.url"
                [queryParams]="item.queryParams"
              >
                @if (item.icon) {
                  <span [class]="item.icon" class="p-menuitem-icon"></span>
                }
                <span class="ml-1">{{ item.label }}</span>
                @if (item.shortcut) {
                  <span class="ml-auto border-1 surface-border border-round surface-100 text-sm px-2 py-1">
                    {{ item.shortcut }}
                </span>
                }
                @if (item.items) {
                  <i class="pi pi-angle-right ml-auto text-primary"></i>
                }
              </a>
            </ng-template>
          </p-tieredMenu>
        }
      </p-card>
    </div>
  }
</div>
