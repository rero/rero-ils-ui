<!--
  RERO ILS UI
  Copyright (C) 2024-2025 RERO

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, version 3 of the License.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<div class="ui:flex ui:flex-wrap ui:lg:flex-nowrap ui:gap-4">
  @for (item of items; track item.id) {
    <div class="ui:w-full">
      <p-card styleClass="ui:bg-white">
        <ng-template #header>
          <div class="ui:bg-primary-950 ui:text-white ui:gap-1 ui:flex ui:items-center ui:p-4 ui:font-bold ui:rounded-t-lg">
            @if (item.icon) {
              <i [class]="item.icon"></i>
            }
            <span>{{ item.label }}</span>
          </div>
        </ng-template>
        @for (menuItem of item.items; track menuItem.id) {
          <p-tieredMenu [model]="[menuItem]" styleClass="ui:w-full ui:p-0">
            <ng-template #item let-item>
              <a
                pRipple
                class="ui:flex ui:items-center p-tieredmenu-item-link"
                [attr.id]="item.id"
                [routerLink]="item.routerLink"
                [href]="item.url"
                [queryParams]="item.queryParams"
              >
                @if (item.icon) {
                  <span [class]="item.icon" class="p-tieredmenu-item-icon"></span>
                }
                <span class="p-tieredmenu-item-label">{{ item.label }}</span>
                @if (item.shortcut) {
                  <span class="ui:ml-auto ui:border ui:border-surface ui:rounded ui:bg-emphasis  ui:text-muted-color ui:text-xs ui:p-1">
                    {{ item.shortcut }}
                </span>
                }
                @if (item.items) {
                  <i class="fa fa-angle-right ui:ml-auto"></i>
                }
              </a>
            </ng-template>
          </p-tieredMenu>
        }
      </p-card>
    </div>
  }
</div>
