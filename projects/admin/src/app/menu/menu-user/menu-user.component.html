<!--
  RERO ILS UI
  Copyright (C) 2024-2025 RERO

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, version 3 of the License.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<p-menubar [model]="items" [autoDisplay]="false">
  <ng-template #item let-item let-root="root">
    @if (item.routerLink && !item.url) {
      <span
        pRipple
        class="ui:flex ui:items-center p-menubar-item-link"
        [id]="item.id"
        [routerLink]="item.routerLink"
        [queryParams]="item.queryParams"
      >
        @if (item.icon) {
          <span [class]="item.icon" class="p-menubar-item-icon"></span>
        }
        <span>{{ item.label }}</span>
        @if (item.badge) {
          <p-badge [ngClass]="{ 'ui:ml-auto': !root, 'ui:ml-2': root }" [value]="item.badge"></p-badge>
        }
        @if (item.shortcut) {
          <span class="ui:ml-auto ui:border ui:border-surface ui:rounded ui:bg-surface-100 ui:bg-emphasis ui:text-muted-color ui:text-xs ui:p-1">{{ item.shortcut }}</span>
        }
      </span>
    }
    @if (item.url && !item.routerLink) {
      <a
        pRipple
        class="ui:flex ui:items-center p-menubar-item-link"
        [id]="item.id"
        [href]="item.url"
        [target]="item.target || '_self'"
      >
        @if (item.icon) {
          <span [class]="item.icon" class="p-menubar-item-icon"></span>
        }
        <span>{{ item.label }}</span>
        @if (item.badge) {
          <p-badge [ngClass]="{ 'ui:ml-auto': !root, 'ui:ml-2': root }" [value]="item.badge"></p-badge>
        }
        @if (item.shortcut) {
          <span class="ui:ml-auto ui:border ui:border-surface ui:rounded ui:bg-surface-100 ui:bg-emphasis ui:text-muted-color ui:text-xs ui:p-1">{{ item.shortcut }}</span>
        }
      </a>
    }
    @if (!item.url && !item.routerLink) {
      <div class="ui:flex ui:items-center p-menubar-item-link">
        @if (item.icon) {
          <span [class]="item.icon" class="p-menubar-item-icon"></span>
        }
        <span>{{ item.label }}</span>
        @if (!item.disabled && item.items) {
          <i [ngClass]="['ui:ml-auto fa', root ? 'fa-angle-down ui:ml-2' : 'fa-angle-right']"></i>
        }
      </div>
    }
  </ng-template>
</p-menubar>
