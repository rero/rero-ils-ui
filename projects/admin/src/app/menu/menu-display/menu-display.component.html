<!--
  RERO ILS UI
  Copyright (C) 2024 RERO

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, version 3 of the License.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<p-menubar [model]="items()" [autoHide]="true">
  <ng-template pTemplate="item" let-item let-root="root">
    @if (item.routerLink && !item.url) {
      <span pRipple class="flex align-items-center p-menuitem-link" [id]="item.id" [routerLink]="item.routerLink" [queryParams]="item.queryParams">
        @if (item.icon) {
          <span [class]="item.icon"></span>
        }
        <span class="ml-2">{{ item.label }}</span>
        @if (item.badge) {
          <p-badge [ngClass]="{ 'ml-auto': !root, 'ml-2': root }" [value]="item.badge"></p-badge>
        }
        @if (item.shortcut) {
          <span class="ml-auto border-1 surface-border border-round surface-100 text-xs p-1">{{ item.shortcut }}</span>
        }
      </span>
    }
    @if (item.url && !item.routerLink) {
      <a pRipple class="flex align-items-center p-menuitem-link text-color" [id]="item.id" [href]="item.url" [target]="item.target">
        @if (item.icon) {
          <span [class]="item.icon"></span>
        }
        <span class="ml-2">{{ item.label }}</span>
        @if (item.badge) {
          <p-badge [ngClass]="{ 'ml-auto': !root, 'ml-2': root }" [value]="item.badge"></p-badge>
        }
        @if (item.shortcut) {
          <span class="ml-auto border-1 surface-border border-round surface-100 text-xs p-1">{{ item.shortcut }}</span>
        }
      </a>
    }
    @if (!item.url && !item.routerLink) {
      <div class="p-menuitem-link">
        @if (item.icon) {
          <span [class]="item.icon"></span>
        }
        <span class="ml-2">{{ item.label }}</span>
        @if (!item.disabled && item.items) {
          <i [ngClass]="['pi pi-fw', root ? 'pi-angle-down ml-2' : 'pi-angle-right ml-auto']"></i>
        }
      </div>
    }
  </ng-template>
</p-menubar>
